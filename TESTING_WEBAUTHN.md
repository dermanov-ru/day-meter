# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebAuthn —Å –±–∏–æ–º–µ—Ç—Ä–∏–µ–π

## ‚úÖ –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ (Linux)

### –í–∞—Ä–∏–∞–Ω—Ç 1: Chrome —Å —Ñ–ª–∞–≥–æ–º (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. **–ó–∞–∫—Ä–æ–π—Ç–µ Chrome –ø–æ–ª–Ω–æ—Å—Ç—å—é**

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Chrome —Å —Ñ–ª–∞–≥–æ–º, —á—Ç–æ–±—ã –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
```bash
google-chrome --ignore-certificate-errors https://localhost
```

–∏–ª–∏ –¥–ª—è Chromium:
```bash
chromium --ignore-certificate-errors https://localhost
```

3. **–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:**
   - –ë—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –æ—à–∏–±–∫—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
   - –í—ã —Å—Ä–∞–∑—É –Ω–∞ https://localhost
   - –ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
   - –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –º–æ–¥–∞–ª–∫–∞ "Enable Biometric"

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ —Å–∏—Å—Ç–µ–º—É (–±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–∏—Å—Ç–µ–º—ã
sudo cp /home/mark/projects/DayMeter/docker/certs/localhost.crt \
  /usr/local/share/ca-certificates/localhost.crt

# –û–±–Ω–æ–≤–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
sudo update-ca-certificates

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Chrome
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Chrome –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebAuthn —ç–º—É–ª—è—Ç–æ—Ä–∞

–ö–æ–≥–¥–∞ –≤—ã –≤–∏–¥–∏—Ç–µ –º–æ–¥–∞–ª–∫—É "Enable Biometric":

### –°–ø–æ—Å–æ–± 1: Chrome DevTools WebAuthn —ç–º—É–ª—è—Ç–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools:** F12
2. **–û—Ç–∫—Ä–æ–π—Ç–µ WebAuthn –ø–∞–Ω–µ–ª—å:**
   - Ctrl+Shift+P (Command Palette)
   - –í–≤–µ–¥–∏—Ç–µ "WebAuthn"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Show WebAuthn"
3. **–í –ø–∞–Ω–µ–ª–∏ WebAuthn:**
   - –í–∫–ª—é—á–∏—Ç–µ "Enable virtual authenticator environment"
   - –ù–∞–∂–º–∏—Ç–µ "Add authenticator"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
     - ‚úì Support resident key
     - ‚úì Support user verification
   - –ù–∞–∂–º–∏—Ç–µ "Add"
4. **–ù–∞–∂–º–∏—Ç–µ "Enable" –≤ –º–æ–¥–∞–ª–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - Chrome DevTools —ç–º—É–ª–∏—Ä—É–µ—Ç –±–∏–æ–º–µ—Ç—Ä–∏—é
   - –ü–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ - –±–∏–æ–º–µ—Ç—Ä–∏—è –≤–∫–ª—é—á–µ–Ω–∞

### –°–ø–æ—Å–æ–± 2: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π FIDO2 –∫–ª—é—á (–±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å softoken –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ USB –∫–ª—é—á–∞
sudo apt-get install libu2f-udev libpam-u2f

# –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Chrome —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª—é—á
```

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–π –±–∏–æ–º–µ—Ç—Ä–∏–∏

–ù–∞ Android/iOS (–µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ):

1. **–û—Ç–∫—Ä–æ–π—Ç–µ https://localhost –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ** (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–∞–∫ PWA:**
   - Chrome ‚Üí Menu ‚Üí "Install app"
   - iOS Safari ‚Üí Share ‚Üí "Add to Home Screen"
3. **–û—Ç–∫—Ä–æ–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
4. **–ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å**
5. **–ù–∞–∂–º–∏—Ç–µ "Enable Biometric"**
6. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –æ—Ç–ø–µ—á–∞—Ç–∫–æ–º –ø–∞–ª—å—Ü–∞ / Face ID**

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–≤–µ—Ä–µ–Ω –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–π –û–° (–æ–±—ã—á–Ω–æ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ setup).

## üîê –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è WebAuthn —ç–º—É–ª—è—Ç–æ—Ä–∞:

- ‚úì –ü–æ—Å–ª–µ "Enable Biometric" ‚Üí —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–∞
- ‚úì –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí "Biometric successfully enabled!"
- ‚úì –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
- ‚úì –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Üí –º–æ–¥–∞–ª–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –î–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ:

- ‚úì –ü—Ä–∏ –∫–ª–∏–∫–µ "Enable Biometric" ‚Üí —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å–∏—Ç –±–∏–æ–º–µ—Ç—Ä–∏—é
- ‚úì –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±–∏–æ–º–µ—Ç—Ä–∏–µ–π ‚Üí —É—Å–ø–µ—Ö
- ‚úì –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí —ç–∫—Ä–∞–Ω —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** Chrome –≤—ã–¥–∞–µ—Ç "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –¥–æ–≤–µ—Ä–µ–Ω"
- **–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--ignore-certificate-errors` –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ —Å–∏—Å—Ç–µ–º—É

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–∞–ª–∫–∞ "Enable Biometric" –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
  - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã
  - –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à (Ctrl+Shift+Delete)

**–ü—Ä–æ–±–ª–µ–º–∞:** WebAuthn —ç–º—É–ª—è—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ DevTools
- **–†–µ—à–µ–Ω–∏–µ:**
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Chrome/Chromium –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
  - WebAuthn –ø–∞–Ω–µ–ª—å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ Chrome 67+

## üìù –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å HTTPS
cd /home/mark/projects/DayMeter
./start-https.sh

# 2. –û—Ç–∫—Ä—ã—Ç—å –≤ Chrome (—Å –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)
google-chrome --ignore-certificate-errors https://localhost

# 3. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

# 4. –ù–∞–∂–∞—Ç—å "Enable Biometric"

# 5. –û—Ç–∫—Ä—ã—Ç—å DevTools (F12)

# 6. Ctrl+Shift+P ‚Üí "Show WebAuthn"

# 7. –í–∫–ª—é—á–∏—Ç—å virtual authenticator

# 8. –ù–∞–∂–∞—Ç—å "Enable" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

# 9. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤ —ç–º—É–ª—è—Ç–æ—Ä–µ

# 10. ‚úì –ë–∏–æ–º–µ—Ç—Ä–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é WebAuthn! üéâ
