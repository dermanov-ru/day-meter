# DayMeter HTTPS Local Development Setup

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

HTTPS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è WebAuthn –∏ –¥—Ä—É–≥–∏—Ö HTTPS-–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## –ó–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å HTTPS
./start-https.sh

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
./stop-https.sh
```

## –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

- **–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** https://localhost
- **–ü–æ—á—Ç–æ–≤–∞—è –ø–∞–Ω–µ–ª—å:** http://localhost:8025
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** localhost:3306 (MySQL)
- **Redis:** localhost:6379

## –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/certs/localhost.crt` –∏ `docker/certs/localhost.key`
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:** 365 –¥–Ω–µ–π
- **–¢–∏–ø:** Self-signed —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è localhost

### –î–æ–≤–µ—Ä–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É –Ω–∞ —ç—Ç–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–Ω–æ–≤–∞ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä:

**Linux (Ubuntu/Debian):**
```bash
sudo cp docker/certs/localhost.crt /usr/local/share/ca-certificates/
sudo update-ca-certificates
```

**macOS:**
```bash
sudo security add-trusted-cert -d -r trustRoot \
  -k /Library/Keychains/System.keychain \
  docker/certs/localhost.crt
```

**Windows:**
```cmd
certutil -addstore -f "Root" docker\certs\localhost.crt
```

## –ë—Ä–∞—É–∑–µ—Ä

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ https://localhost –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è self-signed —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

- **Chrome/Edge:** –ù–∞–∂–º–∏—Ç–µ "Advanced" ‚Üí "Proceed to localhost (unsafe)"
- **Firefox:** –ù–∞–∂–º–∏—Ç–µ "Accept the Risk and Continue"
- **Safari:** –ò–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (—É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ keychain)

## WebAuthn –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

HTTPS —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è WebAuthn API. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –±–∏–æ–º–µ—Ç—Ä–∏–∏
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å –±–∏–æ–º–µ—Ç—Ä–∏–µ–π
- –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (Face ID, Touch ID, –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞)

## –õ–æ–≥–∏

```bash
# –õ–æ–≥–∏ Nginx
docker compose logs nginx -f

# –õ–æ–≥–∏ Laravel
docker compose logs laravel.test -f

# –í—Å–µ –ª–æ–≥–∏
docker compose logs -f
```

## –ü—Ä–æ–±–ª–µ–º—ã

### 502 Bad Gateway
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã: `docker compose ps`
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx: `docker compose exec nginx nginx -s reload`

### Permission Denied
- –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `docker compose exec laravel.test chmod -R 777 storage bootstrap/cache`

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –¥–æ–≤–µ—Ä–µ–Ω
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–¥ (live reload —á–µ—Ä–µ–∑ Vite)
- API requests –∏–¥—É—Ç —á–µ—Ä–µ–∑ HTTPS –ø—Ä–æ–∫—Å–∏
- Database –∏ Redis –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ –æ–±—ã—á–Ω–æ

–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é WebAuthn —Å —Ä–µ–∞–ª—å–Ω–æ–π –±–∏–æ–º–µ—Ç—Ä–∏–µ–π! üîê
